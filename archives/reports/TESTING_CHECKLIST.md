# בדיקות רגרסיה וזרימות קריטיות (Regression Testing Checklist)

מסמך זה מרכז את הבדיקות הקריטיות שיש לבצע לאחר כל שינוי משמעותי במערכת, כדי לוודא שלא נשברו זרימות עבודה מרכזיות.

## 1. ניהול תפריט (Menu Management)

### Modifiers (תוספות ושדרוגים)

- [ ] **הוספת קבוצת תוספות:** וודא שניתן ליצור קבוצה חדשה, להוסיף לה אפשרויות, ולשמור.
- [ ] **עריכת מחירים:** שנה מחיר של תוספת, שמור, וודא שזה מתעדכן ב-Kiosk.
- [ ] **מחיקה:** וודא שניתן למחוק אפשרות מתוך קבוצה, ושזה לא שובר את המנה הראשית.

### Recipes (מתכונים)

- [ ] **יצירת מתכון:** חבר מלאי (Inventory Item) למנה בתפריט.
- [ ] **חישוב עלות:** וודא שעלות המנה (COGS) מתעדכנת לפי עלות המרכיבים.
- [ ] **עדכון כמות:** שנה כמות מרכיב (למשל מ-100 גרם ל-150 גרם) וודא שהעלות מתעדכנת.

## 2. מטבח ו-KDS

### Production Tasks (הכנות מטבח)

- [ ] **שמירת משימה:** צור משימת הכנה ב-MenuEditModal (למשל "לחתוך ירקות" כל יום א').
- [ ] **הופעה ב-KDS:** וודא שהמשימה מופיעה במסך המטבח ביום המתאים.
- [ ] **קישור למנה:** וודא שהמשימה מקושרת ל-`menu_item_id` הנכון ב-DB.

### KDS Routing

- [ ] **ניתוב לפי קטגוריה:** וודא שפריט ללא הגדרה ספציפית נשלח לעמדה של הקטגוריה שלו.
- [ ] **Override:** הגדר פריט ספציפי לעמדה אחרת (למשל קינוח שיוצא מהמטבח במקום מהבר) וודא שהוא מופיע שם.

## 3. סנכרון (Sync & Data)

### Dexie <-> Supabase

- [ ] **Clear and Reset:** בצע איפוס נתונים ב-`dexie-admin`. וודא שכל הטבלאות חוזרות עם V ירוק.
- [ ] **ספירת הזמנות:** וודא שמספר ההזמנות תואם את השרת (כולל היסטוריה של 30 יום).
- [ ] **ספירת פריטי הזמנה:** וודא ש-Order Items נספרים נכון ולא מציגים שגיאה.

## 4. מלאי ורכש (Inventory & Invoices)

### הוספת פריט (Ingestion)

- [ ] **יצירת פריט בספק:** הוסף פריט חדש תחת ספק מסוים.
- [ ] **וידוא יחידות:** וודא שהיחידות (ק"ג, יחידה, ארגז) נשמרות נכון.

### קליטת חשבונית

- [ ] **העלאת תמונה/קובץ:** וודא שה-OCR עובד.
- [ ] **התאמת פריטים:** בצע Match לפריט קיים.
- [ ] **עדכון מלאי:** אשר את החשבונית וודא שכמות המלאי התעדכנה.
